<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Make Your Website — Interactive Guide</title>

<!-- Minimal styling (everything self-contained) -->
<style>
  :root{
    --bg:#0f1724;
    --panel:#0b1220;
    --muted:#94a3b8;
    --accent:#8b5cf6;
    --glass: rgba(255,255,255,0.04);
    --radius:10px;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color-scheme: dark;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#071025 0%,#07182a 60%);color:#e6eef8}
  header{display:flex;align-items:center;gap:.75rem;padding:1rem;border-bottom:1px solid rgba(255,255,255,0.03)}
  header h1{margin:0;font-size:1rem;letter-spacing:.3px}
  .wrap{display:grid;grid-template-columns:360px 1fr;gap:18px;padding:18px;height:calc(100vh - 74px)}
  .sidebar{background:var(--panel);padding:16px;border-radius:var(--radius);box-shadow:0 6px 20px rgba(2,6,23,.6);overflow:auto}
  .editor-area{display:flex;flex-direction:column;gap:12px}
  .top-controls{display:flex;gap:8px;align-items:center}
  .btn{
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.04));
    border:1px solid rgba(255,255,255,0.04);
    color:var(--muted);
    padding:.45rem .7rem;border-radius:8px;font-size:13px;cursor:pointer
  }
  .btn.primary{background:linear-gradient(90deg,var(--accent),#6ee7b7);color:#001; font-weight:600; border:0}
  .guide h2{margin:.2rem 0 .5rem 0}
  .steps{font-size:14px;line-height:1.45;color:var(--muted)}
  .editor{
    display:grid;grid-template-columns:1fr 1fr;gap:12px;align-items:stretch;
  }
  .pane{background:var(--glass);padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;min-height:220px;}
  .pane label{font-size:12px;color:var(--muted);margin-bottom:6px;display:flex;justify-content:space-between;align-items:center}
  textarea.code{flex:1;background:transparent;border:0;color:#dff1ff;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono";resize:vertical;min-height:160px;outline:none;font-size:13px}
  .preview{height:100%;background:#020617;border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column}
  .preview iframe{flex:1;border:0;width:100%}
  footer{padding:10px 18px;color:var(--muted);font-size:13px;border-top:1px solid rgba(255,255,255,0.02)}
  pre.tip{background:rgba(255,255,255,0.02);padding:.6rem;border-radius:8px;overflow:auto;color:var(--muted);font-size:13px}
  .small{font-size:12px;color:var(--muted)}
  .row{display:flex;gap:8px;align-items:center}
  .kbd{background:#08122b;padding:.18rem .45rem;border-radius:6px;border:1px solid rgba(255,255,255,0.03);font-size:12px}
  details summary{cursor:pointer;color:var(--muted)}
  .muted{color:var(--muted)}
  @media(max-width:980px){
    .wrap{grid-template-columns:1fr;grid-auto-rows: auto;}
    .editor{grid-template-columns:1fr}
  }
</style>
</head>
<body>
<header>
  <svg width="36" height="36" viewBox="0 0 24 24" style="flex:0 0 36px"><rect width="24" height="24" rx="6" fill="#111827"/><path d="M7 12h10M7 8h10M7 16h6" stroke="#8b5cf6" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" /></svg>
  <div>
    <h1>Make Your Website — interactive starter</h1>
    <div class="small muted">Edit the code, see preview instantly. Perfect for GitHub Pages.</div>
  </div>
</header>

<div class="wrap">
  <aside class="sidebar">
    <div class="guide">
      <h2>Quick Start Guide</h2>
      <div class="steps">
        <p>Welcome! This page is both a playground and a step-by-step guide to making a static website for GitHub. Follow the steps below and edit the code on the right.</p>

        <ol>
          <li><strong>Edit:</strong> Click into the HTML / CSS / JS panes and change text, colors, and layouts. Changes are saved automatically.</li>
          <li><strong>Preview:</strong> The right panel shows your site preview in real time. Use the "Run" button for manual refresh.</li>
          <li><strong>Export:</strong> Use <em>Download Export</em> to generate a single `site.html` file you can host anywhere.</li>
          <li><strong>Deploy to GitHub Pages:</strong>
            <pre class="tip">1. Create a new GitHub repo (public). 
2. Add this file as <code>index.html</code> in the repo root. 
3. Settings → Pages → Branch: main (root) → Save.
4. Visit <code>https://your-username.github.io/your-repo-name</code></pre>
          </li>
        </ol>

        <details>
          <summary>What to change first (fast wins)</summary>
          <ul class="muted">
            <li>Site title &amp; description in HTML (top of the HTML pane)</li>
            <li>Primary accent color in CSS (look for <code>--accent</code>)</li>
            <li>Replace placeholder text & images with your content</li>
          </ul>
        </details>

        <h3>Tips</h3>
        <ul class="muted">
          <li>Keep things semantic: use <code>&lt;header&gt;</code>, <code>&lt;main&gt;</code>, <code>&lt;footer&gt;</code>.</li>
          <li>Test on mobile by resizing the preview or opening the exported file on your phone.</li>
          <li>Want routes (multiple pages)? Make additional HTML files (about.html, contact.html) and link between them.</li>
        </ul>

        <div style="margin-top:12px" class="row">
          <button class="btn" id="resetBtn" title="Reset to starter template">Reset starter</button>
          <button class="btn" id="runBtn">Run (refresh preview)</button>
          <button class="btn primary" id="downloadBtn">Download Export</button>
        </div>

        <hr style="border:none;height:1px;background:rgba(255,255,255,0.03);margin:12px 0">

        <p class="muted small">Shortcuts: <span class="kbd">Ctrl+S</span> / <span class="kbd">Cmd+S</span> to run. Your edits are stored locally in your browser.</p>
      </div>
    </div>
  </aside>

  <section class="editor-area">
    <div class="top-controls row">
      <div class="small muted">Editor</div>
      <div style="flex:1"></div>
      <div class="small muted">Theme</div>
      <div class="row">
        <label class="small muted"><input type="checkbox" id="showGuide" checked/> Show guide</label>
      </div>
    </div>

    <div class="editor">
      <div class="pane" style="grid-column:1">
        <label>HTML <span class="muted"> — your site's structure</span></label>
        <textarea id="htmlCode" class="code" spellcheck="false" aria-label="HTML editor"></textarea>
      </div>

      <div class="pane" style="grid-column:2">
        <label>CSS <span class="muted"> — style and layout</span></label>
        <textarea id="cssCode" class="code" spellcheck="false" aria-label="CSS editor"></textarea>
      </div>

      <div class="pane" style="grid-column:1 / span 2;">
        <label>JavaScript <span class="muted"> — interactivity for your site</span></label>
        <textarea id="jsCode" class="code" spellcheck="false" aria-label="JS editor"></textarea>
      </div>
    </div>

    <div class="preview" style="min-height:320px">
      <div style="padding:10px;display:flex;align-items:center;gap:8px;border-bottom:1px solid rgba(255,255,255,0.02)">
        <div class="small muted">Live Preview</div>
        <div style="flex:1"></div>
        <div class="small muted">Preview is sandboxed (no access to parent's JS)</div>
      </div>
      <iframe id="previewFrame" sandbox="allow-forms allow-scripts allow-same-origin"></iframe>
    </div>

  </section>
</div>

<footer>
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div class="small muted">Made for learning. Edit everything — copy to your GitHub repo to publish.</div>
    <div class="small muted">Need help? Read the inline comments in the HTML pane.</div>
  </div>
</footer>

<script>
/*
  Interactive editor logic
  - autosaves to localStorage under keys: site_html, site_css, site_js
  - builds a single HTML blob and loads into iframe
  - download creates a single-file export (site.html) assembling the three parts
*/

// Starter template content
const STARTER_HTML = `<!--
  Edit this HTML. Replace the text between tags to make the site your own.
  Use semantic tags: <header>, <main>, <footer>.
  Save often — but this app autosaves locally.
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Static Site</title>
  <!-- Link to an external font if you like (optional, takes network): -->
  <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet"> -->
</head>
<body>
  <header style="padding:24px;background:linear-gradient(90deg,#111827,#0b1220);color:white;">
    <h1>Welcome to My Website</h1>
    <p id="tagline">This is a small static site — edit me!</p>
  </header>

  <main style="padding:18px;">
    <section>
      <h2>About</h2>
      <p>Hello — add your introduction here. Mention who you are, what you do, or what this site is about.</p>
    </section>

    <section>
      <h2>Projects</h2>
      <ul>
        <li>Project A — a short description</li>
        <li>Project B — another description</li>
      </ul>
    </section>

    <button id="helloBtn">Say hi</button>
  </main>

  <footer style="padding:12px;background:#07102a;color:#9fb0c8;">
    <small>© Your Name • Static site</small>
  </footer>
</body>
</html>`;

const STARTER_CSS = `/* Starter CSS:
   Change colors here. This small section is inline so you can see immediate effects.
   You can add more rules or import styles.
*/
body{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#f7fafc;color:#0b1220;margin:0;line-height:1.5}
header h1{margin:0;font-size:1.6rem}
main{max-width:900px;margin:18px auto;padding:0 12px}
button{background:#8b5cf6;border:0;padding:.5rem .8rem;border-radius:8px;color:white;cursor:pointer}
`;

const STARTER_JS = `// Starter JS:
// Add interactions here. This runs in the preview's context.
document.addEventListener('DOMContentLoaded', () => {
  const btn = document.getElementById('helloBtn');
  if(btn) btn.addEventListener('click', () => alert('Hello from your static site!'));
});
`;

// elements
const htmlEl = document.getElementById('htmlCode');
const cssEl = document.getElementById('cssCode');
const jsEl = document.getElementById('jsCode');
const iframe = document.getElementById('previewFrame');
const runBtn = document.getElementById('runBtn');
const resetBtn = document.getElementById('resetBtn');
const downloadBtn = document.getElementById('downloadBtn');
const showGuide = document.getElementById('showGuide');

// localStorage keys
const K_HTML = 'site_html_v1';
const K_CSS = 'site_css_v1';
const K_JS = 'site_js_v1';

// load from storage or starter
htmlEl.value = localStorage.getItem(K_HTML) || STARTER_HTML;
cssEl.value  = localStorage.getItem(K_CSS)  || STARTER_CSS;
jsEl.value   = localStorage.getItem(K_JS)   || STARTER_JS;

// build and load preview
function buildPreview() {
  const html = htmlEl.value;
  const css = cssEl.value;
  const js  = jsEl.value;

  // assemble a single HTML document
  const assembled = `
<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<style>${css}</style>
</head><body>
${html}
<script>
  try {
    ${js}
  } catch(e) {
    document.body.insertAdjacentHTML('beforeend','<pre style="color:red;padding:8px;">JS Error: '+(e && e.message)+ '</pre>');
    console.error(e);
  }
<\/script>
</body></html>`;

  const blob = new Blob([assembled], {type: 'text/html'});
  const url = URL.createObjectURL(blob);
  iframe.src = url;

  // release previous blob URLs to avoid memory leaks
  setTimeout(() => { try { URL.revokeObjectURL(url); } catch(e){} }, 20000);
}

// autosave on change (debounced)
let saveTimer = null;
function scheduleSaveAndBuild() {
  if(saveTimer) clearTimeout(saveTimer);
  saveTimer = setTimeout(() => {
    localStorage.setItem(K_HTML, htmlEl.value);
    localStorage.setItem(K_CSS, cssEl.value);
    localStorage.setItem(K_JS, jsEl.value);
    buildPreview();
  }, 400);
}

// initial build
buildPreview();

// events
htmlEl.addEventListener('input', scheduleSaveAndBuild);
cssEl.addEventListener('input', scheduleSaveAndBuild);
jsEl.addEventListener('input', scheduleSaveAndBuild);

runBtn.addEventListener('click', () => {
  localStorage.setItem(K_HTML, htmlEl.value);
  localStorage.setItem(K_CSS, cssEl.value);
  localStorage.setItem(K_JS, jsEl.value);
  buildPreview();
});

resetBtn.addEventListener('click', () => {
  if(!confirm('Reset your editor to the starter template? This will overwrite your current unsaved changes in this browser.')) return;
  htmlEl.value = STARTER_HTML;
  cssEl.value = STARTER_CSS;
  jsEl.value = STARTER_JS;
  scheduleSaveAndBuild();
});

downloadBtn.addEventListener('click', () => {
  const html = htmlEl.value;
  const css = cssEl.value;
  const js  = jsEl.value;
  const assembled = `<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<style>${css}</style></head><body>
${html}
<script>
${js}
</script>
</body></html>`;

  const blob = new Blob([assembled], {type: 'text/html'});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'site.html';
  document.body.appendChild(a);
  a.click();
  a.remove();
  setTimeout(()=>URL.revokeObjectURL(a.href), 20000);
});

// keyboard shortcut: ctrl/cmd + s => run
window.addEventListener('keydown', (e) => {
  if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 's') {
    e.preventDefault();
    runBtn.click();
  }
});

// show/hide guide
showGuide.addEventListener('change', () => {
  document.querySelector('.sidebar').style.display = showGuide.checked ? '' : 'none';
});

// expose a little helper in parent for debugging if you want
window.makeSiteExport = function() {
  const assembled = `<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style>${cssEl.value}</style></head><body>${htmlEl.value}<script>${jsEl.value}<\/script></body></html>`;
  return assembled;
}
</script>
</body>
</html>
